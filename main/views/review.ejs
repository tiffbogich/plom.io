<% include layout %>

<script src="/javascripts/PlomTs.js"></script>
<script src="/javascripts/parmatrix.js"></script>
<script src="/javascripts/corr.js"></script>
<script src="/javascripts/density.js"></script>
<script src="/javascripts/review.js"></script>
<script src="/socket.io/socket.io.js"></script>

<% include header %>

<div class="row">

  <div class="span9">
    <ul class="breadcrumb">
      <li><a href="#">Disease</a> <span class="divider">/</span></li>
      <li><a href="#">Context</a> <span class="divider">/</span></li>
      <li class="active">Model</li>
    </ul>
  </div>

  <div class="span3">
    <div class="review-action">
      <button class="btn btn-primary" type="button"><i class="icon-eye-open"></i> Follow</button>
      <button class="btn btn-danger" type="button"><i class="icon-download"></i> Fork</button>
    </div>
  </div>

</div>

<div class="row">

  <!-- Plots -->
  <div class="span7">

    <!-- Trajectories plot -->
    <div class="accordion" id="plotTraj">
      <div class="accordion-group">
        <div class="accordion-heading">
          <a class="accordion-toggle" data-toggle="collapse" data-parent="#plotTraj" href="#plotTrajContent">State Variables</a>
        </div>

        <div id="plotTrajContent" class="accordion-body collapse in">
          <div class="accordion-inner">
            <div id="graphTraj"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- States plot and diffusions -->
    <div class="accordion" id="plotState">
      <div class="accordion-group">
        <div class="accordion-heading">
          <a class="accordion-toggle" data-toggle="collapse" data-parent="#plotState" href="#plotStateContent">State Variables</a>
        </div>

        <div id="plotStateContent" class="accordion-body collapse">
          <div class="accordion-inner">
            <div id="graphState"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- likelihood and ESS plots -->
    <div class="accordion" id="plotLike">
      <div class="accordion-group">
        <div class="accordion-heading">
          <a class="accordion-toggle" data-toggle="collapse" data-parent="#plotLike" href="#plotLikeContent">Likelihood</a>
        </div>
        <div id="plotLikeContent" class="accordion-body collapse">
          <div class="accordion-inner">
            <div id="graphLike"></div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Controls -->
  <div class="span5">

    <div>
      <button id="run" class="btn" type="button"><i class="icon-play"></i> Run</button>
      <button id="stop" class="btn" type="button"><i class="icon-remove"></i> Stop</button>
      <button class="btn" type="button"><i class="icon-file"></i> Attach to comment</button>
    </div>

    <div id="control"></div>

  </div>

</div>




<div class="row">
  <div class="span12">

    <ul class="nav nav-tabs" id="reviewTab">
      <li class="active">
        <a href="#theta" data-toggle="tab">Parameters</a>
      </li>
      <li>
        <a href="#model" data-toggle="tab">Model</a>
      </li>
    </ul>
    
    <div class="tab-content">

      <div class="tab-pane active" id="theta">


        <div class="horizontal-scroll"  id="theta-list">
          <% for(var i = 0 ; i< 100; i++) {%>
             <div>
               <ul>
                 <li>Parameter set</li>
                 <li>author</li>
                 <li>
                   <a href="#">DIC: 4000</a>
                 </li>
               </ul>

               <button class="btn" type="button">review</button>
             </div>
          <% } %>
        </div>


        <!-- Summary table (templated) -->
        <div class="row">
          <div class="span12" id="summaryTable">

          </div>
        </div>	      	

         <!-- plots -->
        <div class="row" id="diag-plots">


         <!-- correlation matrix -->
          <div class="span6">
	      <div id="ActiveMatComp">  
		<a href="#"  id="ActiveMatCompHack" rel="tooltip" data-placement="top" title="This is the tooltip!"></a>
		<a href="#"  rel="popover" data-toggle="popover" data-trigger='hover' data-content="" title="title"></a>
	      </div>		  

	      <div id="popover_content_wrapper" style="display: none">
  		<div>This is your div content</div>
  	      </div>

	      <div id="vis"></div>
          </div>


         <!-- diagnostic plots and test details -->
          <div class="span6">

              <div class="row">
                <div class="span3" id="density2"></div>
                <div class="span3" id="corr1"></div>
                <div class="span3 hidden" id="trace">
                  <img class="img-diag" alt="trace plot"/>
                </div>
              </div>

              <div class="row">
                <div class="span3" id="corr2"></div>
                <div class="span3" id="density1"></div>
                <div class="span3 hidden" id="autocor">
                  <img class="img-diag" alt="autocorrelation plot" />
                </div>
                <div class="span3 hidden" id="autocor">
		  <ul>
		    <li>Heidelberger: <span id="heidel" class="diagnostics"></span></li>
		    <li>Geweke: <span id="geweke" class="diagnostics"></span></li>
		    <li>ESS: <span id="ess" class="diagnostics"></span></li>
		  </ul>
                </div>
              </div>

          </div>
      
        </div>

        <div class="row">
          <div class="span6">
            <h3>Feedback</h3>
          </div>

          <div class="span6">
            <h3>Add</h3>

            <form>

              <label for="feedbackMethod">Provide feedback on the method</label>              
              <textarea id="feedbackMethod" rows="3" class="span6"></textarea>

              <label for="feedbackTheta">Provide feedback on the parameter values</label>
              <textarea id="feedbackTheta" rows="3" class="span6"></textarea>

              <p>
                <button class="btn btn-success" type="button">Validate</button>
                <button class="btn btn-danger" type="button">Need more work</button>
              </p>
            </form>

          </div>

        </div>


      </div>


      <!-- Model review -->
      <div class="tab-pane" id="model">

        <div class="row">

          <div class="span6">

            <h3>Context</h3>

            <h3>Process Model</h3>

            <h3>Observation Model</h3>

          </div>

          <div class="span6">
            <h3>Discussion</h3>
          </div>

        </div>

      </div>

    </div>

  </div>

</div>



<% include footer %>
